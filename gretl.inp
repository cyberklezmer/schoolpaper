
open /home/martin/Documents/s/covid/schools/data.ods --sheet=10

#open /home/martin/tmp/data.presens.ods --sheet=10
setobs District Week --panel-vars

dummify District
dummify Week

genr Q_0 = DDistrict_0 * RYDn
genr Q_1 = DDistrict_1 * RYDn
genr Q_2 = DDistrict_2 * RYDn
genr Q_3 = DDistrict_3 * RYDn
genr Q_4 = DDistrict_4 * RYDn
genr Q_5 = DDistrict_5 * RYDn
genr Q_6 = DDistrict_6 * RYDn
genr Q_7 = DDistrict_7 * RYDn
genr Q_8 = DDistrict_8 * RYDn
genr Q_9 = DDistrict_9 * RYDn
genr Q_10 = DDistrict_10 * RYDn
genr Q_11 = DDistrict_11 * RYDn
genr Q_12 = DDistrict_12 * RYDn
genr Q_13 = DDistrict_13 * RYDn
genr Q_14 = DDistrict_14 * RYDn
genr Q_15 = DDistrict_15 * RYDn
genr Q_16 = DDistrict_16 * RYDn
genr Q_17 = DDistrict_17 * RYDn
genr Q_18 = DDistrict_18 * RYDn
genr Q_19 = DDistrict_19 * RYDn
genr Q_20 = DDistrict_20 * RYDn
genr Q_21 = DDistrict_21 * RYDn
genr Q_22 = DDistrict_22 * RYDn
genr Q_23 = DDistrict_23 * RYDn
genr Q_24 = DDistrict_24 * RYDn
genr Q_25 = DDistrict_25 * RYDn
genr Q_26 = DDistrict_26 * RYDn
genr Q_27 = DDistrict_27 * RYDn
genr Q_28 = DDistrict_28 * RYDn
genr Q_29 = DDistrict_29 * RYDn
genr Q_30 = DDistrict_30 * RYDn
genr Q_31 = DDistrict_31 * RYDn
genr Q_32 = DDistrict_32 * RYDn
genr Q_33 = DDistrict_33 * RYDn
genr Q_34 = DDistrict_34 * RYDn
genr Q_35 = DDistrict_35 * RYDn
genr Q_36 = DDistrict_36 * RYDn
genr Q_37 = DDistrict_37 * RYDn
genr Q_38 = DDistrict_38 * RYDn
genr Q_39 = DDistrict_39 * RYDn
genr Q_40 = DDistrict_40 * RYDn
genr Q_41 = DDistrict_41 * RYDn
genr Q_42 = DDistrict_42 * RYDn
genr Q_43 = DDistrict_43 * RYDn
genr Q_44 = DDistrict_44 * RYDn
genr Q_45 = DDistrict_45 * RYDn
genr Q_46 = DDistrict_46 * RYDn
genr Q_47 = DDistrict_47 * RYDn
genr Q_48 = DDistrict_48 * RYDn
genr Q_49 = DDistrict_49 * RYDn
genr Q_50 = DDistrict_50 * RYDn
genr Q_51 = DDistrict_51 * RYDn
genr Q_52 = DDistrict_52 * RYDn
genr Q_53 = DDistrict_53 * RYDn
genr Q_54 = DDistrict_54 * RYDn
genr Q_55 = DDistrict_55 * RYDn
genr Q_56 = DDistrict_56 * RYDn
genr Q_57 = DDistrict_57 * RYDn
genr Q_58 = DDistrict_58 * RYDn
genr Q_59 = DDistrict_59 * RYDn
genr Q_60 = DDistrict_60 * RYDn
genr Q_61 = DDistrict_61 * RYDn
genr Q_62 = DDistrict_62 * RYDn
genr Q_63 = DDistrict_63 * RYDn
genr Q_64 = DDistrict_64 * RYDn
genr Q_65 = DDistrict_65 * RYDn
genr Q_66 = DDistrict_66 * RYDn
genr Q_67 = DDistrict_67 * RYDn
genr Q_68 = DDistrict_68 * RYDn
genr Q_69 = DDistrict_69 * RYDn
genr Q_70 = DDistrict_70 * RYDn
genr Q_71 = DDistrict_71 * RYDn
genr Q_72 = DDistrict_72 * RYDn
genr Q_73 = DDistrict_73 * RYDn
genr Q_74 = DDistrict_74 * RYDn
genr Q_75 = DDistrict_75 * RYDn
genr Q_76 = DDistrict_76 * RYDn

genr QG_0 = DDistrict_0 * RYn
genr QG_1 = DDistrict_1 * RYn
genr QG_2 = DDistrict_2 * RYn
genr QG_3 = DDistrict_3 * RYn
genr QG_4 = DDistrict_4 * RYn
genr QG_5 = DDistrict_5 * RYn
genr QG_6 = DDistrict_6 * RYn
genr QG_7 = DDistrict_7 * RYn
genr QG_8 = DDistrict_8 * RYn
genr QG_9 = DDistrict_9 * RYn
genr QG_10 = DDistrict_10 * RYn
genr QG_11 = DDistrict_11 * RYn
genr QG_12 = DDistrict_12 * RYn
genr QG_13 = DDistrict_13 * RYn
genr QG_14 = DDistrict_14 * RYn
genr QG_15 = DDistrict_15 * RYn
genr QG_16 = DDistrict_16 * RYn
genr QG_17 = DDistrict_17 * RYn
genr QG_18 = DDistrict_18 * RYn
genr QG_19 = DDistrict_19 * RYn
genr QG_20 = DDistrict_20 * RYn
genr QG_21 = DDistrict_21 * RYn
genr QG_22 = DDistrict_22 * RYn
genr QG_23 = DDistrict_23 * RYn
genr QG_24 = DDistrict_24 * RYn
genr QG_25 = DDistrict_25 * RYn
genr QG_26 = DDistrict_26 * RYn
genr QG_27 = DDistrict_27 * RYn
genr QG_28 = DDistrict_28 * RYn
genr QG_29 = DDistrict_29 * RYn
genr QG_30 = DDistrict_30 * RYn
genr QG_31 = DDistrict_31 * RYn
genr QG_32 = DDistrict_32 * RYn
genr QG_33 = DDistrict_33 * RYn
genr QG_34 = DDistrict_34 * RYn
genr QG_35 = DDistrict_35 * RYn
genr QG_36 = DDistrict_36 * RYn
genr QG_37 = DDistrict_37 * RYn
genr QG_38 = DDistrict_38 * RYn
genr QG_39 = DDistrict_39 * RYn
genr QG_40 = DDistrict_40 * RYn
genr QG_41 = DDistrict_41 * RYn
genr QG_42 = DDistrict_42 * RYn
genr QG_43 = DDistrict_43 * RYn
genr QG_44 = DDistrict_44 * RYn
genr QG_45 = DDistrict_45 * RYn
genr QG_46 = DDistrict_46 * RYn
genr QG_47 = DDistrict_47 * RYn
genr QG_48 = DDistrict_48 * RYn
genr QG_49 = DDistrict_49 * RYn
genr QG_50 = DDistrict_50 * RYn
genr QG_51 = DDistrict_51 * RYn
genr QG_52 = DDistrict_52 * RYn
genr QG_53 = DDistrict_53 * RYn
genr QG_54 = DDistrict_54 * RYn
genr QG_55 = DDistrict_55 * RYn
genr QG_56 = DDistrict_56 * RYn
genr QG_57 = DDistrict_57 * RYn
genr QG_58 = DDistrict_58 * RYn
genr QG_59 = DDistrict_59 * RYn
genr QG_60 = DDistrict_60 * RYn
genr QG_61 = DDistrict_61 * RYn
genr QG_62 = DDistrict_62 * RYn
genr QG_63 = DDistrict_63 * RYn
genr QG_64 = DDistrict_64 * RYn
genr QG_65 = DDistrict_65 * RYn
genr QG_66 = DDistrict_66 * RYn
genr QG_67 = DDistrict_67 * RYn
genr QG_68 = DDistrict_68 * RYn
genr QG_69 = DDistrict_69 * RYn
genr QG_70 = DDistrict_70 * RYn
genr QG_71 = DDistrict_71 * RYn
genr QG_72 = DDistrict_72 * RYn
genr QG_73 = DDistrict_73 * RYn
genr QG_74 = DDistrict_74 * RYn
genr QG_75 = DDistrict_75 * RYn
genr QG_76 = DDistrict_76 * RYn

genr TQ_1 = DWeek_1 * RYDn
genr TQ_2 = DWeek_2 * RYDn
genr TQ_3 = DWeek_3 * RYDn
genr TQ_4 = DWeek_4 * RYDn
genr TQ_5 = DWeek_5 * RYDn
genr TQ_6 = DWeek_6 * RYDn
genr TQ_7 = DWeek_7 * RYDn
genr TQ_8 = DWeek_8 * RYDn
genr TQ_9 = DWeek_9 * RYDn
genr TQ_10 = DWeek_10 * RYDn
genr TQ_11 = DWeek_11 * RYDn
genr TQ_12 = DWeek_12 * RYDn
genr TQ_13 = DWeek_13 * RYDn
genr TQ_14 = DWeek_14 * RYDn
genr TQ_15 = DWeek_15 * RYDn
genr TQ_16 = DWeek_16 * RYDn
genr TQ_17 = DWeek_17 * RYDn
genr TQ_18 = DWeek_18 * RYDn
genr TQ_19 = DWeek_19 * RYDn
genr TQ_20 = DWeek_20 * RYDn
genr TQ_21 = DWeek_21 * RYDn
genr TQ_22 = DWeek_22 * RYDn
genr TQ_23 = DWeek_23 * RYDn
genr TQ_24 = DWeek_24 * RYDn
genr TQ_25 = DWeek_25 * RYDn
genr TQ_26 = DWeek_26 * RYDn
genr TQ_27 = DWeek_27 * RYDn
genr TQ_28 = DWeek_28 * RYDn
genr TQ_29 = DWeek_29 * RYDn
genr TQ_30 = DWeek_30 * RYDn
genr TQ_31 = DWeek_31 * RYDn
genr TQ_32 = DWeek_32 * RYDn
genr TQ_33 = DWeek_33 * RYDn
genr TQ_34 = DWeek_34 * RYDn
genr TQ_35 = DWeek_35 * RYDn
genr TQ_36 = DWeek_36 * RYDn
genr TQ_37 = DWeek_37 * RYDn
genr TQ_38 = DWeek_38 * RYDn
genr TQ_39 = DWeek_39 * RYDn
genr TQ_40 = DWeek_40 * RYDn
genr TQ_41 = DWeek_41 * RYDn
genr TQ_42 = DWeek_42 * RYDn
genr TQ_43 = DWeek_43 * RYDn
genr TQ_44 = DWeek_44 * RYDn
genr TQ_45 = DWeek_45 * RYDn
genr TQ_46 = DWeek_46 * RYDn
genr TQ_47 = DWeek_47 * RYDn
genr TQ_48 = DWeek_48 * RYDn
genr TQ_49 = DWeek_49 * RYDn
genr TQ_50 = DWeek_50 * RYDn
genr TQ_51 = DWeek_51 * RYDn
genr TQ_52 = DWeek_52 * RYDn
genr TQ_53 = DWeek_53 * RYDn
genr TQ_54 = DWeek_54 * RYDn
genr TQ_55 = DWeek_55 * RYDn
genr TQ_56 = DWeek_56 * RYDn
genr TQ_57 = DWeek_57 * RYDn
genr TQ_58 = DWeek_58 * RYDn
genr TQ_59 = DWeek_59 * RYDn
genr TQ_60 = DWeek_60 * RYDn
genr TQ_61 = DWeek_61 * RYDn
genr TQ_62 = DWeek_62 * RYDn
genr TQ_63 = DWeek_63 * RYDn
genr TQ_64 = DWeek_64 * RYDn
genr TQ_65 = DWeek_65 * RYDn
genr TQ_66 = DWeek_66 * RYDn
genr TQ_67 = DWeek_67 * RYDn
genr TQ_68 = DWeek_68 * RYDn
genr TQ_69 = DWeek_69 * RYDn
genr TQ_70 = DWeek_70 * RYDn
genr TQ_71 = DWeek_71 * RYDn
genr TQ_72 = DWeek_72 * RYDn

scalar c1=38.1790039271689
scalar c2=18.7459708378764
scalar c3=23.9766621937179
scalar c4=25.7611097527338


list qs = Q_0 Q_1 Q_2	Q_3	Q_4	Q_5	Q_6	Q_7	Q_8	Q_9	Q_10	Q_11	Q_12	Q_13	Q_14	Q_15	Q_16	Q_17	Q_18	Q_19	Q_20	Q_21	Q_22	Q_23	Q_24	Q_25	Q_26	Q_27	Q_28	Q_29	Q_30	Q_31	Q_32	Q_33	Q_34	Q_35	Q_36	Q_37	Q_38	Q_39	Q_40	Q_41	Q_42	Q_43	Q_44	Q_45	Q_46	Q_47	Q_48	Q_49	Q_50	Q_51	Q_52	Q_53	Q_54	Q_55	Q_56	Q_57	Q_58	Q_59	Q_60	Q_61	Q_62	Q_63	Q_64	Q_65	Q_66	Q_67	Q_68	Q_69	Q_70	Q_71	Q_72	Q_73	Q_74	Q_75	Q_76 QG_0	QG_1	QG_2	QG_3	QG_4	QG_5	QG_6	QG_7	QG_8	QG_9	QG_10	QG_11	QG_12	QG_13	QG_14	QG_15	QG_16	QG_17	QG_18	QG_19	QG_20	QG_21	QG_22	QG_23	QG_24	QG_25	QG_26	QG_27	QG_28	QG_29	QG_30	QG_31	QG_32	QG_33	QG_34	QG_35	QG_36	QG_37	QG_38	QG_39	QG_40	QG_41	QG_42	QG_43	QG_44	QG_45	QG_46	QG_47	QG_48	QG_49	QG_50	QG_51	QG_52	QG_53	QG_54	QG_55	QG_56	QG_57	QG_58	QG_59	QG_60	QG_61	QG_62	QG_63	QG_64	QG_65	QG_66	QG_67	QG_68	QG_69	QG_70	QG_71	QG_72	QG_73	QG_74	QG_75	QG_76
#list tq = Q_0	Q_1	Q_2	Q_3	Q_4	Q_5	Q_6	Q_7	Q_8	Q_9	Q_10	Q_11	Q_12	Q_13	Q_14	Q_15	Q_16	Q_17	Q_18	Q_19	Q_20	Q_21	Q_22	Q_23	Q_24	Q_25	Q_26	Q_27	Q_28	Q_29	Q_30	Q_31	Q_32	Q_33	Q_34	Q_35	Q_36	Q_37	Q_38	Q_39	Q_40	Q_41	Q_42	Q_43	Q_44	Q_45	Q_46	Q_47	Q_48	Q_49	Q_50	Q_51	Q_52	Q_53	Q_54	Q_55	Q_56	Q_57	Q_58	Q_59	Q_60	Q_61	Q_62	Q_63	Q_64	Q_65	Q_66	Q_67	Q_68	Q_69	Q_70	Q_71	Q_72	Q_73	Q_74	Q_75	Q_76 TQ_1	TQ_2	TQ_3	TQ_4	TQ_5	TQ_6	TQ_7	TQ_8	TQ_9	TQ_10	TQ_11	TQ_12	TQ_13	TQ_14	TQ_15	TQ_16	TQ_17	TQ_18	TQ_19	TQ_20	TQ_21	TQ_22	TQ_23	TQ_24	TQ_25	TQ_26	TQ_27	TQ_28	TQ_29	TQ_30	TQ_31	TQ_32	TQ_33	TQ_34	TQ_35	TQ_36	TQ_37	TQ_38	TQ_39	TQ_40	TQ_41	TQ_42	TQ_43	TQ_44	TQ_45	TQ_46	TQ_47	TQ_48	TQ_49	TQ_50	TQ_51	TQ_52	TQ_53	TQ_54	TQ_55	TQ_56	TQ_57	TQ_58	TQ_59	TQ_60	TQ_61	TQ_62	TQ_63	TQ_64	TQ_65	TQ_66	TQ_67	TQ_68	TQ_69	TQ_70	TQ_71	TQ_72


#kindergartens

#genr Y1exp = Y1tn - Y1cn
#genr Q12n = Q1n + Q2n

#genr Y1exp = Y1tn - 2.06 * Y1cn

#kindnldif <- ols Y1exp UN1tn UN1cn Q1n minq qs


#scalar nu1exp1 = $coeff(UN1tn)
#scalar nu1exp1std = $stderr(UN1tn)
#scalar nu2exp2 = $coeff(UN1cn)
#scalar nu2exp2std = $stderr(UN1cn)

genr Y1exp = Y1tn - Y1cn
#genr minq = -Q2n


kindnl <- ols Y1exp Q1n  UdN1n qs

scalar nuexp1 = $coeff(UdN1n)
scalar nuexp1std = $stderr(UdN1n)



#scalar nuexp1 = $coeff(UdN1n)
#scalar nuexp1std = $stderr(UdN1n)

#kindnlb <- ols Y1exp UdN1n dummify(Week)
#scalar nuexpb1 = $coeff(UdN1n)
#scalar nuexpb1std = $stderr(UdN1n)

#kindnlc <- ols Y1exp UdN1n 
#scalar nuexpc1 = $coeff(UdN1n)
#scalar nuexpc1std = $stderr(UdN1n)

#genr T1Oexp = dN1(-1) * RYn
#genr T1Dexp = dN1(-1) * RYDn
#ols Y1exp Q1n minq UdN1n qs T1Oexp T1Dexp



kindallg <- ols Y1n Q1n UN1n qs
scalar nug1 = $coeff(UN1n)
scalar nug1std = $stderr(UN1n)
scalar gammag1 = $coeff(Q1n)
scalar gammag1std = $stderr(Q1n)

kindall <- ols Y1n RYn RYDn UN1n #Q1n 


scalar alpha1 = c1* $coeff(RYn)
scalar alpha1std = c1* $stderr(RYn)
scalar beta1 = c1*$coeff(RYDn)
scalar beta1std = c1*$stderr(RYDn)
#scalar gamma1 = $coeff(Q1n)
#scalar gamma1std = $stderr(Q1n)
scalar nu1 = $coeff(UN1n)
scalar nu1std = $stderr(UN1n)
scalar sigma1 = $sigma

# kindphi <- ols Y1n RYn RYDn U1n W1n


kindns <- ols Y1n RYn RYDn Q1n
scalar alphan1 = c1* $coeff(RYn)
scalar alphan1std = c1* $stderr(RYn)
scalar betan1 = c1*$coeff(RYDn)
scalar betan1std = c1*$stderr(RYDn)
scalar gamman1 = $coeff(Q1n)
scalar gamman1std = $stderr(Q1n)


genr Y2exp = Y2tn - Y2cn

#ols Y2exp Q2n UM2tn UM2cn  tq


fdnldif <- ols Y2exp Q2n UM2tn UM2cn  qs

scalar mu1exp2 = $coeff(UM2tn)
scalar mu1exp2std = $stderr(UM2tn)
scalar mu2exp2 = $coeff(UM2cn)
scalar mu2exp2std = $stderr(UM2cn)

 
fdnl <- ols Y2exp Q2n UdM2n qs

scalar muexp2 = $coeff(UdM2n)
scalar muexp2std = $stderr(UdM2n)

#fdnlb <- ols Y2exp UdM2n RYDn Q2n dummify(Week) 
#
#scalar muexpb2 = $coeff(UdM2n)
#scalar muexpb2std = $stderr(UdM2n)

#fdnlc <- ols Y2exp UdM2n RYDn Q2n

#scalar muexpc2 = $coeff(UdM2n)
#scalar muexpc2std = $stderr(UdM2n)



fdallg <- ols Y2n UN2n UM2n URT2n UMT2n UNT2n Q2n qs

scalar mug2 = $coeff(UM2n)
scalar mug2std = $stderr(UM2n)
scalar nug2 = $coeff(UN2n)
scalar nug2std = $stderr(UN2n)
scalar mutg2 = $coeff(UMT2n)
scalar mutg2std = $stderr(UMT2n)
scalar nutg2 = $coeff(UNT2n)
scalar nutg2std = $stderr(UNT2n)
scalar rhotg2 = $coeff(URT2n)
scalar rhotg2std = $stderr(URT2n)
scalar gammag2 = $coeff(Q2n)
scalar gammag2std = $stderr(Q2n)


fdall <- ols Y2n RYn RYDn UN2n UM2n URT2n UMT2n UNT2n #Q2n

scalar alpha2 = c2* $coeff(RYn)
scalar alpha2std = c2* $stderr(RYn)
scalar beta2 = c2*$coeff(RYDn)
scalar beta2std = c2*$stderr(RYDn)
#scalar gamma2 = $coeff(Q2n)
#scalar gamma2std = $stderr(Q2n)
scalar nu2 = $coeff(UN2n)
scalar nu2std = $stderr(UN2n)
scalar mu2 = $coeff(UM2n)
scalar mu2std = $stderr(UM2n)
scalar mut2 = $coeff(UMT2n)
scalar mut2std = $stderr(UMT2n)
scalar nut2 = $coeff(UNT2n)
scalar nut2std = $stderr(UNT2n)
scalar rhot2 = $coeff(URT2n)
scalar rhot2std = $stderr(URT2n)
scalar sigma2 = $sigma
scalar s2=sqrt(var($uhat))

genr TO2 = T2(-1) * RYn
genr TD2 = T2(-1) * RYDn

scalar alphaf2 = $coeff(RYn)
scalar betaf2 = $coeff(RYDn)
scalar ff2 = 1
scalar nuf2 = nu2
scalar muf2 = mu2 
scalar rhotf2 = rhot2
scalar mutf2 = mut2
scalar nutf2 = nut2

smpl TO2>=0 --restrict

fdt <- nls Y2n = alphaf2 * RYn + betaf2 * RYDn + alphaf2 * (ff2-1) * TO2 + betaf2 * (ff2-1) * TD2 + nuf2* UN2n+ muf2 * UM2n + rhotf2 * URT2n + mutf2 * UMT2n + nutf2 * UNT2n
deriv alphaf2 = RYn + (ff2-1) * TO2 
deriv betaf2 = RYDn + (ff2-1) * TD2 
deriv ff2 = alphaf2 * TO2 + betaf2 * TD2 
deriv nuf2 = UN2n
deriv muf2 = UM2n 
deriv rhotf2 = URT2n 
deriv mutf2 = UMT2n 
deriv nutf2 = UNT2n
end nls

scalar alphaf2std = c2* $stderr(alphaf2)
scalar betaf2std = c2*$stderr(betaf2)
scalar nuf2std = $stderr(nuf2)
scalar muf2std = $stderr(muf2)
scalar rhotf2std = $stderr(rhotf2)
scalar mutf2std = $stderr(mutf2)
scalar nutf2std = $stderr(nutf2)
scalar ff2std = $stderr(ff2)

alphaf2 *= c2 
betaf2 *= c2 

smpl full

genr Phi2 = A2(-1) * RYn
genr Psi2 = A2(-1) * RYDn

fdphi<-ols Y2n Psi2 RYn RYDn UN2n UM2n URT2n UMT2n UNT2n Q2n 
#scalar phi2 = c2* $coeff(Phi2)
# scalar phi2std = c2* $stderr(Phi2)
scalar psi2 = c2* $coeff(Psi2)
scalar psi2std = c2* $stderr(Psi2)



# fdphi <- ols Y2n RYn RYDn U2n V2n W2n


fdns <- ols Y2n RYn RYDn Q2n

scalar alphan2 = c2* $coeff(RYn)
scalar alphan2std = c2* $stderr(RYn)
scalar betan2 = c2*$coeff(RYDn)
scalar betan2std = c2*$stderr(RYDn)
scalar gamman2 = $coeff(Q2n)
scalar gamman2std = $stderr(Q2n)


genr Y3exp = Y3tn - Y3cn

sdnldif <- ols Y3exp UM3tn UR3cn  Q3n qs

scalar rho2exp3 = $coeff(UR3cn)
scalar rho2exp3std = $stderr(UR3cn)
scalar mu1exp3 = $coeff(UM3tn)
scalar mu1exp3std = $stderr(UM3tn)


sdnl <- ols Y3exp UdR3n Q3n qs

scalar rhoexp3 = $coeff(UdR3n)
scalar rhoexp3std = $stderr(UdR3n)
#scalar nuexp3 = $coeff(UdN3n)
#scalar nuexp3std = $stderr(UdN3n)

#sdnlb <- ols Y3exp Q3n UdR3n UdN3n dummify(Week)

#scalar rhoexpb3 = $coeff(UdR3n)
#scalar rhoexpb3std = $stderr(UdR3n)
#scalar nuexpb3 = $coeff(UdN3n)
#scalar nuexpb3std = $stderr(UdN3n)

#sdnlc <- ols Y3exp UdR3n UdN3n RYDn

#scalar rhoexpc3 = $coeff(UdR3n)
#scalar rhoexpc3std = $stderr(UdR3n)
#scalar nuexpc3 = $coeff(UdN3n)
#scalar nuexpc3std = $stderr(UdN3n)


sdallg <- ols Y3n UM3n UN3n UR3n URT3n UMT3n UNT3n  Q3n qs
scalar nug3 = $coeff(UN3n)
scalar nug3std = $stderr(UN3n)
scalar mug3 = $coeff(UM3n)
scalar mug3std = $stderr(UM3n)
scalar mutg3 = $coeff(UMT3n)
scalar mutg3std = $stderr(UMT3n)
scalar nutg3 = $coeff(UNT3n)
scalar nutg3std = $stderr(UNT3n)
scalar rhotg3 = $coeff(URT3n)
scalar rhotg3std = $stderr(URT3n)
scalar rhog3 = $coeff(UR3n)
scalar rhog3std = $stderr(UR3n)
scalar gammag3 = $coeff(Q3n)
scalar gammag3std = $stderr(Q3n)


sdall <- ols Y3n RYn RYDn UM3n UN3n UR3n URT3n UMT3n UNT3n #Q3n

scalar alpha3 = c3* $coeff(RYn)
scalar alpha3std = c3* $stderr(RYn)
scalar beta3 = c3*$coeff(RYDn)
scalar beta3std = c3*$stderr(RYDn)
#scalar gamma3 = $coeff(Q3n)
#scalar gamma3std = $stderr(Q3n)
scalar nu3 = $coeff(UN3n)
scalar nu3std = $stderr(UN3n)
scalar mu3 = $coeff(UM3n)
scalar mu3std = $stderr(UM3n)
scalar mut3 = $coeff(UMT3n)
scalar mut3std = $stderr(UMT3n)
scalar nut3 = $coeff(UNT3n)
scalar nut3std = $stderr(UNT3n)
scalar rhot3 = $coeff(URT3n)
scalar rhot3std = $stderr(URT3n)
scalar rho3 = $coeff(UR3n)
scalar rho3std = $stderr(UR3n)
scalar sigma3 = $sigma

genr TO3 = T3(-1) * RYn
genr TD3 = T3(-1) * RYDn

scalar alphaf3 = $coeff(RYn)
scalar betaf3 = $coeff(RYDn)
scalar ff3 = 1
scalar nuf3 = nu3
scalar muf3 = mu3 
scalar rhof3 = rho3 
scalar rhotf3 = rhot3
scalar mutf3 = mut3
scalar nutf3 = nut3

smpl TO3>=0 --restrict

sdt <- nls Y3n = alphaf3 * RYn + betaf3 * RYDn + alphaf3 * (ff3-1) * TO3 + betaf3 * (ff3-1) * TD3 + nuf3* UN3n+ muf3 * UM3n +  rhof3 * UR3n + rhotf3 * URT3n + mutf3 * UMT3n + nutf3 * UNT3n
deriv alphaf3 = RYn + (ff3-1) * TO3 
deriv betaf3 = RYDn + (ff3-1) * TD3
deriv ff3 = alphaf3 * TO3 + betaf3 * TD3 
deriv nuf3 = UN3n
deriv muf3 = UM3n 
deriv rhof3 = UR3n 
deriv rhotf3 = URT3n 
deriv mutf3 = UMT3n 
deriv nutf3 = UNT3n
end nls

scalar alphaf3std = c3* $stderr(alphaf3)
scalar betaf3std = c3*$stderr(betaf3)
scalar nuf3std = $stderr(nuf3)
scalar muf3std = $stderr(muf3)
scalar rhof3std = $stderr(rhof3)
scalar rhotf3std = $stderr(rhotf3)
scalar mutf3std = $stderr(mutf3)
scalar nutf3std = $stderr(nutf3)
scalar ff3std = $stderr(ff3)

alphaf3 *= c3
betaf3 *= c3 


smpl full


genr Phi3 = A3(-1) * RYn
genr Psi3 = A3(-1) * RYDn

sdphi <- ols Y3n Psi3 RYn RYDn UM3n UN3n UR3n URT3n UMT3n UNT3n Q3n
#scalar phi3 = c3* $coeff(Phi3)
#scalar phi3std = c3* $stderr(Phi3)
scalar psi3 = c3* $coeff(Psi3)
scalar psi3std = c3* $stderr(Psi3)

sdns <- ols Y3n RYn RYDn Q3n

scalar alphan3 = c3* $coeff(RYn)
scalar alphan3std = c3* $stderr(RYn)
scalar betan3 = c3*$coeff(RYDn)
scalar betan3std = c3*$stderr(RYDn)
scalar gamman3 = $coeff(Q3n)
scalar gamman3std = $stderr(Q3n)


genr Y4exp = Y4tn - Y4cn

secnldif <- ols Y4exp UM4tn UM4cn  Q4n qs

scalar mu1exp4 = $coeff(UM4tn)
scalar mu1exp4std = $stderr(UM4tn)
scalar mu2exp4 = $coeff(UM4cn)
scalar mu2exp4std = $stderr(UM4cn)


secnl <- ols Y4exp UdM4n Q4n qs

scalar muexp4 = $coeff(UdM4n)
scalar muexp4std = $stderr(UdM4n)

#secnlb <- ols Y4exp  UdN4n UdM4n Q4n dummify(Week)

#scalar muexpb4 = $coeff(UdM4n)
#scalar muexpb4std = $stderr(UdM4n)
#scalar nuexpb4 = $coeff(UdN4n)
#scalar nuexpb4std = $stderr(UdN4n)


#secnlc <- ols Y4exp UdN4n UdM4n

# Q4n RYDn

#scalar muexpc4 = $coeff(UdM4n)
#scalar muexpc4std = $stderr(UdM4n)
#scalar nuexpc4 = $coeff(UdN4n)
#scalar nuexpc4std = $stderr(UdN4n)


secallg<-ols Y4n UN4n UM4n UMT4n UNT4n Q4n qs
scalar nug4 = $coeff(UN4n)
scalar nug4std = $stderr(UN4n)
scalar mug4 = $coeff(UM4n)
scalar mug4std = $stderr(UM4n)
scalar mutg4 = $coeff(UMT4n)
scalar mutg4std = $stderr(UMT4n)
scalar nutg4 = $coeff(UNT4n)
scalar nutg4std = $stderr(UNT4n)
scalar gammag4 = $coeff(Q4n)
scalar gammag4std = $stderr(Q4n)


secall<-ols Y4n RYn RYDn UN4n UM4n UMT4n UNT4n #Q4n


scalar alpha4 = c4* $coeff(RYn)
scalar alpha4std = c4* $stderr(RYn)
scalar beta4 = c4*$coeff(RYDn)
scalar beta4std = c4*$stderr(RYDn)
#scalar gamma4 = $coeff(Q4n)
#scalar gamma4std = $stderr(Q4n)
scalar nu4 = $coeff(UN4n)
scalar nu4std = $stderr(UN4n)
scalar mu4 = $coeff(UM4n)
scalar mu4std = $stderr(UM4n)
scalar mut4 = $coeff(UMT4n)
scalar mut4std = $stderr(UMT4n)
scalar nut4 = $coeff(UNT4n)
scalar nut4std = $stderr(UNT4n)
scalar sigma4 = $sigma


genr TO4 = T4(-1) * RYn
genr TD4 = T4(-1) * RYDn

scalar alphaf4 = $coeff(RYn)
scalar betaf4 = $coeff(RYDn)
scalar ff4 = 1
scalar nuf4 = nu4
scalar muf4 = mu4 
scalar mutf4 = mut4
scalar nutf4 = nut4

smpl TO4>=0 --restrict

sect <- nls Y4n = alphaf4 * RYn + betaf4 * RYDn + alphaf4 * (ff4-1) * TO4 + betaf4 * (ff4-1) * TD4 + nuf4* UN4n+ muf4 * UM4n + mutf4 * UMT4n + nutf4 * UNT4n
deriv alphaf4 = RYn + (ff4-1) * TO4
deriv betaf4 = RYDn + (ff4-1) * TD4  
deriv ff4 = alphaf4 * TO4 + betaf4 * TD4 
deriv nuf4 = UN4n
deriv muf4 = UM4n 
deriv mutf4 = UMT4n 
deriv nutf4 = UNT4n
end nls

scalar alphaf4std = c4* $stderr(alphaf4)
scalar betaf4std = c4*$stderr(betaf4)
scalar nuf4std = $stderr(nuf4)
scalar muf4std = $stderr(muf4)
scalar mutf4std = $stderr(mutf4)
scalar nutf4std = $stderr(nutf4)
scalar ff4std = $stderr(ff4)

alphaf4 *= c4
betaf4 *= c4 


smpl full



genr Phi4 = A4(-1) * RYn
genr Psi4 = A4(-1) * RYDn

secphi<-ols Y4n Psi4 RYn RYDn UN4n UM4n UMT4n UNT4n Q4n
#scalar phi4= c4* $coeff(Phi4)
#scalar phi3std = c4* $stderr(Phi4)
scalar psi4 = c4* $coeff(Psi4)
scalar psi4std = c4* $stderr(Psi4)


secns<-ols Y4n RYn RYDn Q4n

scalar alphan4 = c4* $coeff(RYn)
scalar alphan4std = c4* $stderr(RYn)
scalar betan4 = c4*$coeff(RYDn)
scalar betan4std = c4*$stderr(RYDn)
scalar gamman4 = $coeff(Q4n)
scalar gamman4std = $stderr(Q4n)

all <- ols YDn RYn RYDn


# sensitivity

lags 1 dN1																																																																													
genr phig0=dN1_1 * RYn * DDistrict_0																																																																													
genr phig1=dN1_1 * RYn * DDistrict_1																																																																													
genr phig2=dN1_1 * RYn * DDistrict_2																																																																													
genr phig3=dN1_1 * RYn * DDistrict_3																																																																													
genr phig4=dN1_1 * RYn * DDistrict_4																																																																													
genr phig5=dN1_1 * RYn * DDistrict_5																																																																													
genr phig6=dN1_1 * RYn * DDistrict_6																																																																													
genr phig7=dN1_1 * RYn * DDistrict_7																																																																													
genr phig8=dN1_1 * RYn * DDistrict_8																																																																													
genr phig9=dN1_1 * RYn * DDistrict_9																																																																													
genr phig10=dN1_1 * RYn * DDistrict_10																																																																													
genr phig11=dN1_1 * RYn * DDistrict_11																																																																													
genr phig12=dN1_1 * RYn * DDistrict_12																																																																													
genr phig13=dN1_1 * RYn * DDistrict_13																																																																													
genr phig14=dN1_1 * RYn * DDistrict_14																																																																													
genr phig15=dN1_1 * RYn * DDistrict_15																																																																													
genr phig16=dN1_1 * RYn * DDistrict_16																																																																													
genr phig17=dN1_1 * RYn * DDistrict_17																																																																													
genr phig18=dN1_1 * RYn * DDistrict_18																																																																													
genr phig19=dN1_1 * RYn * DDistrict_19																																																																													
genr phig20=dN1_1 * RYn * DDistrict_20																																																																													
genr phig21=dN1_1 * RYn * DDistrict_21																																																																													
genr phig22=dN1_1 * RYn * DDistrict_22																																																																													
genr phig23=dN1_1 * RYn * DDistrict_23																																																																													
genr phig24=dN1_1 * RYn * DDistrict_24																																																																													
genr phig25=dN1_1 * RYn * DDistrict_25																																																																													
genr phig26=dN1_1 * RYn * DDistrict_26																																																																													
genr phig27=dN1_1 * RYn * DDistrict_27																																																																													
genr phig28=dN1_1 * RYn * DDistrict_28																																																																													
genr phig29=dN1_1 * RYn * DDistrict_29																																																																													
genr phig30=dN1_1 * RYn * DDistrict_30																																																																													
genr phig31=dN1_1 * RYn * DDistrict_31																																																																													
genr phig32=dN1_1 * RYn * DDistrict_32																																																																													
genr phig33=dN1_1 * RYn * DDistrict_33																																																																													
genr phig34=dN1_1 * RYn * DDistrict_34																																																																													
genr phig35=dN1_1 * RYn * DDistrict_35																																																																													
genr phig36=dN1_1 * RYn * DDistrict_36																																																																													
genr phig37=dN1_1 * RYn * DDistrict_37																																																																													
genr phig38=dN1_1 * RYn * DDistrict_38																																																																													
genr phig39=dN1_1 * RYn * DDistrict_39																																																																													
genr phig40=dN1_1 * RYn * DDistrict_40																																																																													
genr phig41=dN1_1 * RYn * DDistrict_41																																																																													
genr phig42=dN1_1 * RYn * DDistrict_42																																																																													
genr phig43=dN1_1 * RYn * DDistrict_43																																																																													
genr phig44=dN1_1 * RYn * DDistrict_44																																																																													
genr phig45=dN1_1 * RYn * DDistrict_45																																																																													
genr phig46=dN1_1 * RYn * DDistrict_46																																																																													
genr phig47=dN1_1 * RYn * DDistrict_47																																																																													
genr phig48=dN1_1 * RYn * DDistrict_48																																																																													
genr phig49=dN1_1 * RYn * DDistrict_49																																																																													
genr phig50=dN1_1 * RYn * DDistrict_50																																																																													
genr phig51=dN1_1 * RYn * DDistrict_51																																																																													
genr phig52=dN1_1 * RYn * DDistrict_52																																																																													
genr phig53=dN1_1 * RYn * DDistrict_53																																																																													
genr phig54=dN1_1 * RYn * DDistrict_54																																																																													
genr phig55=dN1_1 * RYn * DDistrict_55																																																																													
genr phig56=dN1_1 * RYn * DDistrict_56																																																																													
genr phig57=dN1_1 * RYn * DDistrict_57																																																																													
genr phig58=dN1_1 * RYn * DDistrict_58																																																																													
genr phig59=dN1_1 * RYn * DDistrict_59																																																																													
genr phig60=dN1_1 * RYn * DDistrict_60																																																																													
genr phig61=dN1_1 * RYn * DDistrict_61																																																																													
genr phig62=dN1_1 * RYn * DDistrict_62																																																																													
genr phig63=dN1_1 * RYn * DDistrict_63																																																																													
genr phig64=dN1_1 * RYn * DDistrict_64																																																																													
genr phig65=dN1_1 * RYn * DDistrict_65																																																																													
genr phig66=dN1_1 * RYn * DDistrict_66																																																																													
genr phig67=dN1_1 * RYn * DDistrict_67																																																																													
genr phig68=dN1_1 * RYn * DDistrict_68																																																																													
genr phig69=dN1_1 * RYn * DDistrict_69																																																																													
genr phig70=dN1_1 * RYn * DDistrict_70																																																																													
genr phig71=dN1_1 * RYn * DDistrict_71																																																																													
genr phig72=dN1_1 * RYn * DDistrict_72																																																																													
genr phig73=dN1_1 * RYn * DDistrict_73																																																																													
genr phig74=dN1_1 * RYn * DDistrict_74																																																																													
genr phig75=dN1_1 * RYn * DDistrict_75																																																																													
genr phig76=dN1_1 * RYn * DDistrict_76																																																																													
genr phid0=dN1_1 * RYDn * DDistrict_0																																																																													
genr phid1=dN1_1 * RYDn * DDistrict_1																																																																													
genr phid2=dN1_1 * RYDn * DDistrict_2																																																																													
genr phid3=dN1_1 * RYDn * DDistrict_3																																																																													
genr phid4=dN1_1 * RYDn * DDistrict_4																																																																													
genr phid5=dN1_1 * RYDn * DDistrict_5																																																																													
genr phid6=dN1_1 * RYDn * DDistrict_6																																																																													
genr phid7=dN1_1 * RYDn * DDistrict_7																																																																													
genr phid8=dN1_1 * RYDn * DDistrict_8																																																																													
genr phid9=dN1_1 * RYDn * DDistrict_9																																																																													
genr phid10=dN1_1 * RYDn * DDistrict_10																																																																													
genr phid11=dN1_1 * RYDn * DDistrict_11																																																																													
genr phid12=dN1_1 * RYDn * DDistrict_12																																																																													
genr phid13=dN1_1 * RYDn * DDistrict_13																																																																													
genr phid14=dN1_1 * RYDn * DDistrict_14																																																																													
genr phid15=dN1_1 * RYDn * DDistrict_15																																																																													
genr phid16=dN1_1 * RYDn * DDistrict_16																																																																													
genr phid17=dN1_1 * RYDn * DDistrict_17																																																																													
genr phid18=dN1_1 * RYDn * DDistrict_18																																																																													
genr phid19=dN1_1 * RYDn * DDistrict_19																																																																													
genr phid20=dN1_1 * RYDn * DDistrict_20																																																																													
genr phid21=dN1_1 * RYDn * DDistrict_21																																																																													
genr phid22=dN1_1 * RYDn * DDistrict_22																																																																													
genr phid23=dN1_1 * RYDn * DDistrict_23																																																																													
genr phid24=dN1_1 * RYDn * DDistrict_24																																																																													
genr phid25=dN1_1 * RYDn * DDistrict_25																																																																													
genr phid26=dN1_1 * RYDn * DDistrict_26																																																																													
genr phid27=dN1_1 * RYDn * DDistrict_27																																																																													
genr phid28=dN1_1 * RYDn * DDistrict_28																																																																													
genr phid29=dN1_1 * RYDn * DDistrict_29																																																																													
genr phid30=dN1_1 * RYDn * DDistrict_30																																																																													
genr phid31=dN1_1 * RYDn * DDistrict_31																																																																													
genr phid32=dN1_1 * RYDn * DDistrict_32																																																																													
genr phid33=dN1_1 * RYDn * DDistrict_33																																																																													
genr phid34=dN1_1 * RYDn * DDistrict_34																																																																													
genr phid35=dN1_1 * RYDn * DDistrict_35																																																																													
genr phid36=dN1_1 * RYDn * DDistrict_36																																																																													
genr phid37=dN1_1 * RYDn * DDistrict_37																																																																													
genr phid38=dN1_1 * RYDn * DDistrict_38																																																																													
genr phid39=dN1_1 * RYDn * DDistrict_39																																																																													
genr phid40=dN1_1 * RYDn * DDistrict_40																																																																													
genr phid41=dN1_1 * RYDn * DDistrict_41																																																																													
genr phid42=dN1_1 * RYDn * DDistrict_42																																																																													
genr phid43=dN1_1 * RYDn * DDistrict_43																																																																													
genr phid44=dN1_1 * RYDn * DDistrict_44																																																																													
genr phid45=dN1_1 * RYDn * DDistrict_45																																																																													
genr phid46=dN1_1 * RYDn * DDistrict_46																																																																													
genr phid47=dN1_1 * RYDn * DDistrict_47																																																																													
genr phid48=dN1_1 * RYDn * DDistrict_48																																																																													
genr phid49=dN1_1 * RYDn * DDistrict_49																																																																													
genr phid50=dN1_1 * RYDn * DDistrict_50																																																																													
genr phid51=dN1_1 * RYDn * DDistrict_51																																																																													
genr phid52=dN1_1 * RYDn * DDistrict_52																																																																													
genr phid53=dN1_1 * RYDn * DDistrict_53																																																																													
genr phid54=dN1_1 * RYDn * DDistrict_54																																																																													
genr phid55=dN1_1 * RYDn * DDistrict_55																																																																													
genr phid56=dN1_1 * RYDn * DDistrict_56																																																																													
genr phid57=dN1_1 * RYDn * DDistrict_57																																																																													
genr phid58=dN1_1 * RYDn * DDistrict_58																																																																													
genr phid59=dN1_1 * RYDn * DDistrict_59																																																																													
genr phid60=dN1_1 * RYDn * DDistrict_60																																																																													
genr phid61=dN1_1 * RYDn * DDistrict_61																																																																													
genr phid62=dN1_1 * RYDn * DDistrict_62																																																																													
genr phid63=dN1_1 * RYDn * DDistrict_63																																																																													
genr phid64=dN1_1 * RYDn * DDistrict_64																																																																													
genr phid65=dN1_1 * RYDn * DDistrict_65																																																																													
genr phid66=dN1_1 * RYDn * DDistrict_66																																																																													
genr phid67=dN1_1 * RYDn * DDistrict_67																																																																													
genr phid68=dN1_1 * RYDn * DDistrict_68																																																																													
genr phid69=dN1_1 * RYDn * DDistrict_69																																																																													
genr phid70=dN1_1 * RYDn * DDistrict_70																																																																													
genr phid71=dN1_1 * RYDn * DDistrict_71																																																																													
genr phid72=dN1_1 * RYDn * DDistrict_72																																																																													
genr phid73=dN1_1 * RYDn * DDistrict_73																																																																													
genr phid74=dN1_1 * RYDn * DDistrict_74																																																																													
genr phid75=dN1_1 * RYDn * DDistrict_75																																																																													
genr phid76=dN1_1 * RYDn * DDistrict_76																																																																													
																																																																													
list phis = 	 phig0 phid0	 phig1 phid1	 phig2 phid2	 phig3 phid3	 phig4 phid4	 phig5 phid5	 phig6 phid6	 phig7 phid7	 phig8 phid8	 phig9 phid9	 phig10 phid10	 phig11 phid11	 phig12 phid12	 phig13 phid13	 phig14 phid14	 phig15 phid15	 phig16 phid16	 phig17 phid17	 phig18 phid18	 phig19 phid19	 phig20 phid20	 phig21 phid21	 phig22 phid22	 phig23 phid23	 phig24 phid24	 phig25 phid25	 phig26 phid26	 phig27 phid27	 phig28 phid28	 phig29 phid29	 phig30 phid30	 phig31 phid31	 phig32 phid32	 phig33 phid33	 phig34 phid34	 phig35 phid35	 phig36 phid36	 phig37 phid37	 phig38 phid38	 phig39 phid39	 phig40 phid40	 phig41 phid41	 phig42 phid42	 phig43 phid43	 phig44 phid44	 phig45 phid45	 phig46 phid46	 phig47 phid47	 phig48 phid48	 phig49 phid49	 phig50 phid50	 phig51 phid51	 phig52 phid52	 phig53 phid53	 phig54 phid54	 phig55 phid55	 phig56 phid56	 phig57 phid57	 phig58 phid58	 phig59 phid59	 phig60 phid60	 phig61 phid61	 phig62 phid62	 phig63 phid63	 phig64 phid64	 phig65 phid65	 phig66 phid66	 phig67 phid67	 phig68 phid68	 phig69 phid69	 phig70 phid70	 phig71 phid71	 phig72 phid72	 phig73 phid73	 phig74 phid74	 phig75 phid75	 phig76 phid76
																																																																													
kindphi <- ols Y1exp Q1n UdN1n phis qs																																																																													

scalar nuf1 = $coeff(UdN1n)
scalar nuf1std = $stderr(UdN1n)

genr phig = dN1_1 * RYn
genr phid = dN1_1 * RYDn
kindphilin <- ols Y1exp Q1n UdN1n RYn RYDn phig phid

scalar nuflin1 = $coeff(UdN1n)
scalar nuflin1std = $stderr(UdN1n)


stop here

ols Y3exp U3Rn dummify(Week) Q_0 Q_1 Q_2	Q_3	Q_4	Q_5	Q_6	Q_7	Q_8	Q_9	Q_10	Q_11	Q_12	Q_13	Q_14	Q_15	Q_16	Q_17	Q_18	Q_19	Q_20	Q_21	Q_22	Q_23	Q_24	Q_25	Q_26	Q_27	Q_28	Q_29	Q_30	Q_31	Q_32	Q_33	Q_34	Q_35	Q_36	Q_37	Q_38	Q_39	Q_40	Q_41	Q_42	Q_43	Q_44	Q_45	Q_46	Q_47	Q_48	Q_49	Q_50	Q_51	Q_52	Q_53	Q_54	Q_55	Q_56	Q_57	Q_58	Q_59	Q_60	Q_61	Q_62	Q_63	Q_64	Q_65	Q_66	Q_67	Q_68	Q_69	Q_70	Q_71	Q_72	Q_73	Q_74	Q_75	Q_76
ols Y3exp U3Rn dummify(Week) RYDn
ols Y3exp U3Rn RYn RYDn

print alpha1 beta1 gamma1 d2 alpha2 beta2 gamma2 delta2 g3 d3 alpha3 beta3 gamma3 delta3  d4 alpha4 beta4 gamma4 delta4 alpha1n beta1n alpha2n beta2n alpha3n beta3n alpha4n beta4n

print alpha1std beta1std gamma1std d2std alpha2std beta2std gamma2std delta2std g3std d3std alpha3std beta3std gamma3std delta3std d4std alpha4std  beta4std gamma4std delta4std alpha1nstd beta1nstd alpha2nstd beta2nstd alpha3nstd beta3nstd alpha4nstd beta4nstd





ols Y1n RYn RYDn U1n 
ols Y1n RYn RYDn

all <- ols YDn RYn RYDn


stop here

smpl Week>=31 --restrict
ols C3n RYn RYDn 
scalar beta3g = $coeff(RYn)
scalar beta3d = $coeff(RYDn)
ols C4n RYn RYDn 
scalar beta4g = $coeff(RYn)
scalar beta4d = $coeff(RYDn)
ols C5n RYn RYDn 
scalar beta5g = $coeff(RYn)
scalar beta5d = $coeff(RYDn)
ols C6n RYn RYDn 
scalar beta6g = $coeff(RYn)
scalar beta6d = $coeff(RYDn)
ols C7n RYn RYDn 
scalar beta7g = $coeff(RYn)
scalar beta7d = $coeff(RYDn)
ols C8n RYn RYDn 
scalar beta8g = $coeff(RYn)
scalar beta8d = $coeff(RYDn)
ols C9n RYn RYDn 
scalar beta9g = $coeff(RYn)
scalar beta9d = $coeff(RYDn)
ols C10n RYn RYDn 
scalar beta10g = $coeff(RYn)
scalar beta10d = $coeff(RYDn)
ols C11n RYn RYDn 
scalar beta11g = $coeff(RYn)
scalar beta11d = $coeff(RYDn)
ols C12n RYn RYDn 
scalar beta12g = $coeff(RYn)
scalar beta12d = $coeff(RYDn)
ols C13n RYn RYDn 
scalar beta13g = $coeff(RYn)
scalar beta13d = $coeff(RYDn)
ols C14n RYn RYDn 
scalar beta14g = $coeff(RYn)
scalar beta14d = $coeff(RYDn)
ols C15n RYn RYDn 
scalar beta15g = $coeff(RYn)
scalar beta15d = $coeff(RYDn)
ols C16n RYn RYDn 
scalar beta16g = $coeff(RYn)
scalar beta16d = $coeff(RYDn)
ols C17n RYn RYDn 
scalar beta17g = $coeff(RYn)
scalar beta17d = $coeff(RYDn)
ols C18n RYn RYDn 
scalar beta18g = $coeff(RYn)
scalar beta18d = $coeff(RYDn)
ols C19n RYn RYDn 
scalar beta19g = $coeff(RYn)
scalar beta19d = $coeff(RYDn)
smpl --full

print beta3g beta4g beta5g beta6g beta7g beta8g beta9g beta10g beta11g beta12g beta13g beta14g beta15g beta16g beta17g beta18g beta19g
print beta3d beta4d beta5d beta6d beta7d beta8d beta9d beta10d beta11d beta12d beta13d beta14d beta15d beta16d beta17d beta18d beta19d

smpl Week>5 --restrict
global<-ols YDn RYn RYDn --vcv
scalar se = sqrt($stderr(RYn)^2 + $stderr(RYDn)^2 + 2* $vcv[1,2])
scalar ab = $coeff(RYn) + $coeff(RYDn)
scalar lo = ab - se * 1.96
scalar hi = ab + se * 1.96
simple <- ols YDn RYn
smpl --full
